import{g as H,o as N,u as S,w as P,d as L,r as _,c as W,a as z,b as g,e as y,f as i,h as K,v as G,i as U,t as $,j as J,k as M,l as O,m as B,F as D,n as Q,p as j,_ as X,q as Y,s as A,x as Z,y as ee,z as te,A as oe}from"./index-5EpnkPgr.js";import{u as se}from"./userApi-DNorbmHG.js";import{u as q}from"./cartStore-XkvzviLA.js";import"./axios-upsvKRUO.js";const ne="/E-commerce/assets/logo-BtKJFnIB.png";function re(t){return H()?(N(t),!0):!1}function k(t){return typeof t=="function"?t():S(t)}const R=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ae=Object.prototype.toString,ie=t=>ae.call(t)==="[object Object]",C=()=>{},le=ce();function ce(){var t,s;return R&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((s=window==null?void 0:window.navigator)==null?void 0:s.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}const F=R?window:void 0;function b(t){var s;const l=k(t);return(s=l==null?void 0:l.$el)!=null?s:l}function V(...t){let s,l,o,a;if(typeof t[0]=="string"||Array.isArray(t[0])?([l,o,a]=t,s=F):[s,l,o,a]=t,!s)return C;Array.isArray(l)||(l=[l]),Array.isArray(o)||(o=[o]);const m=[],x=()=>{m.forEach(d=>d()),m.length=0},c=(d,p,f,r)=>(d.addEventListener(p,f,r),()=>d.removeEventListener(p,f,r)),v=P(()=>[b(s),k(a)],([d,p])=>{if(x(),!d)return;const f=ie(p)?{...p}:p;m.push(...l.flatMap(r=>o.map(w=>c(d,r,w,f))))},{immediate:!0,flush:"post"}),h=()=>{v(),x()};return re(h),h}let I=!1;function ue(t,s,l={}){const{window:o=F,ignore:a=[],capture:m=!0,detectIframe:x=!1}=l;if(!o)return C;le&&!I&&(I=!0,Array.from(o.document.body.children).forEach(e=>e.addEventListener("click",C)),o.document.documentElement.addEventListener("click",C));let c=!0;const v=e=>k(a).some(n=>{if(typeof n=="string")return Array.from(o.document.querySelectorAll(n)).some(u=>u===e.target||e.composedPath().includes(u));{const u=b(n);return u&&(e.target===u||e.composedPath().includes(u))}});function h(e){const n=k(e);return n&&n.$.subTree.shapeFlag===16}function d(e,n){const u=k(e),E=u.$.subTree&&u.$.subTree.children;return E==null||!Array.isArray(E)?!1:E.some(T=>T.el===n.target||n.composedPath().includes(T.el))}const p=e=>{const n=b(t);if(e.target!=null&&!(!(n instanceof Element)&&h(t)&&d(t,e))&&!(!n||n===e.target||e.composedPath().includes(n))){if(e.detail===0&&(c=!v(e)),!c){c=!0;return}s(e)}};let f=!1;const r=[V(o,"click",e=>{f||(f=!0,setTimeout(()=>{f=!1},0),p(e))},{passive:!0,capture:m}),V(o,"pointerdown",e=>{const n=b(t);c=!v(e)&&!!(n&&!e.composedPath().includes(n))},{passive:!0}),x&&V(o,"blur",e=>{setTimeout(()=>{var n;const u=b(t);((n=o.document.activeElement)==null?void 0:n.tagName)==="IFRAME"&&!(u!=null&&u.contains(o.document.activeElement))&&s(e)},0)})].filter(Boolean);return()=>r.forEach(e=>e())}const de={class:"z-10 fixed top-0 left-0 w-full flex items-center justify-between gap-4 px-2 md:px-4 py-2 text-white bg-[#242424]"},pe={class:"relative md:w-[40%]"},fe={class:"flex gap-4 items-center"},me={class:"hidden md:block"},ve={class:"relative md:hidden"},he={class:"absolute top-[-5px] right-[-10px] rounded-full flex items-center justify-center w-4 h-4 bg-primary text-white text-xs"},xe=["src","alt"],ge=L({__name:"Header",setup(t){const s=O(),l=B(),o=_(!1),a=_(),m=_(""),x=_(),c=W(()=>l.query.categoryId),v=q();ue(x,()=>{o.value=!1});const h=()=>{s.push({name:"HomeView"})},d=async()=>{s.push({name:"LoginView"})},p=()=>{s.push({name:"HomeView",query:{title:m.value,categoryId:c.value}})};return z(async()=>{const f=await se.getUser();f&&(a.value=f)}),(f,r)=>{var w,e,n;return g(),y("header",de,[i("div",{class:"block w-[35px] md:w-[40px] cursor-pointer hover:opacity-80 transition",onClick:h},r[2]||(r[2]=[i("img",{src:ne,alt:"Logo",class:"w-full"},null,-1)])),i("div",pe,[i("div",{class:"absolute top-[calc(50%-12px)] left-[18px] transition hover:opacity-80 cursor-pointer",onClick:p},r[3]||(r[3]=[i("i",{class:"fa-solid fa-magnifying-glass"},null,-1)])),K(i("input",{"onUpdate:modelValue":r[0]||(r[0]=u=>m.value=u),placeholder:"Search product name",class:"w-full bg-[#121212] border border-[#868585] pl-10 md:pl-11 p-2 text-sm rounded-full",type:"text",autocomplete:"off",onKeyup:U(p,["enter"])},null,544),[[G,m.value]])]),i("div",fe,[i("p",me,$((w=a.value)==null?void 0:w.name),1),i("div",ve,[r[4]||(r[4]=i("i",{class:"fa-solid fa-cart-shopping"},null,-1)),i("div",he,$(S(v).quantity),1)]),i("div",{class:"relative",ref_key:"infoRef",ref:x},[i("div",{class:"h-[35px] w-[35px] rounded-full overflow-hidden cursor-pointer hover:opacity-80 transition",onClick:r[1]||(r[1]=u=>o.value=!o.value)},[i("img",{src:(e=a.value)==null?void 0:e.avatar,alt:(n=a.value)==null?void 0:n.name,class:"w-full h-full object-cover"},null,8,xe)]),o.value?(g(),y("div",{key:0,class:"gap-2 flex items-center absolute right-0 top-[110%] bg-[#4C4D4D] rounded-md px-4 py-3 md:w-[160px] transition hover:bg-primary cursor-pointer text-sm md:text-[16px]",onClick:d},r[5]||(r[5]=[i("i",{class:"fa-solid fa-right-from-bracket"},null,-1),J(" Logout ")]))):M("",!0)],512)])])}}}),ye={class:"fixed top-[50%] min-h-[200px] translate-y-[-50%] left-4 rounded-lg bg-[#3f3f3f] px-2 py-5 flex-col justify-center"},we=["onClick"],_e={key:0,class:"absolute top-1 right-0 rounded-full flex items-center justify-center w-4 h-4 bg-[#352d2d] text-white text-xs transition"},be=L({__name:"ControlBar",setup(t){const s=O(),l=B(),o=q(),a=_([{icon:"fa-house",type:"home",isActive:!1,name:"HomeView"},{icon:"fa-cart-shopping",type:"cart",isActive:!1,name:"CartView"}]),m=c=>{s.push({name:c})},x=c=>{switch(a.value.forEach(v=>{v.isActive=!1}),c){case"HomeView":a.value[0].isActive=!0;break;case"CartView":a.value[1].isActive=!0;break;default:a.value.forEach(v=>{v.isActive=!1});break}};return P(()=>l.name,c=>{x(c)},{immediate:!0}),(c,v)=>(g(),y("div",ye,[i("ul",null,[(g(!0),y(D,null,Q(a.value,(h,d)=>(g(),y("li",{key:d,class:j(["cursor-pointer p-3 rounded-lg hover:opacity-80 transition relative",{"bg-primary":h.isActive}]),onClick:p=>m(h.name)},[i("i",{class:j(["fa-solid",h.icon])},null,2),h.type==="cart"&&S(o).quantity>0?(g(),y("div",_e,$(S(o).quantity),1)):M("",!0)],10,we))),128))])]))}}),ke={},Ae={class:"px-4 md:px-24 md:pr-8 py-8 max-w-[1920px] w-full mx-auto border-t border-[#6c6a6a] bg-[#242424]"};function Ce(t,s){return g(),y("footer",Ae,s[0]||(s[0]=[Y('<p class="text-xl font-bold mb-3">Contact</p><div class="md:flex gap-x-8 flex-wrap text-sm space-y-1 md:text-[16px]"><p><i class="fa-solid fa-envelope"></i> nmhai1903@gmail.com</p><p><i class="fa-solid fa-phone"></i> 03-6789-6503</p><p><i class="fa-brands fa-github"></i> <a href="https://github.com/minhhai193" class="text-[#dbd5d5] hover:text-primary transition" target="_blank">https://github.com/minhhai193</a></p></div>',2)]))}const Se=X(ke,[["render",Ce]]),Ee={id:"main-content",class:"min-h-dvh pt-20 px-4 md:pl-24 md:pr-8 pb-14 max-w-[1920px] w-full mx-auto bg-[#151515]"},je=L({__name:"MainLayout",setup(t){return(s,l)=>{const o=ee("router-view");return g(),y(D,null,[A(ge),A(be,{class:"md:flex hidden"}),i("div",Ee,[A(o,null,{default:Z(({Component:a})=>[(g(),te(oe(a)))]),_:1})]),A(Se)],64)}}});export{je as default};
