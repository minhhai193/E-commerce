import{g as H,o as N,u as S,w as P,d as L,r as _,c as W,a as z,b as g,e as y,f as i,h as K,v as G,i as U,t as $,j as J,k as M,l as B,m as D,F as O,n as Q,p as j,_ as X,q as Y,s as A,x as Z,y as ee,z as te,A as oe}from"./index-CU1i9eHC.js";import{u as se}from"./userApi-DNorbmHG.js";import{u as q}from"./cartStore-BV425wUz.js";import"./axios-upsvKRUO.js";const ne="/E-commerce/assets/logo-BtKJFnIB.png";function re(t){return H()?(N(t),!0):!1}function k(t){return typeof t=="function"?t():S(t)}const R=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ae=Object.prototype.toString,ie=t=>ae.call(t)==="[object Object]",C=()=>{},le=ce();function ce(){var t,n;return R&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((n=window==null?void 0:window.navigator)==null?void 0:n.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}const F=R?window:void 0;function b(t){var n;const l=k(t);return(n=l==null?void 0:l.$el)!=null?n:l}function V(...t){let n,l,o,a;if(typeof t[0]=="string"||Array.isArray(t[0])?([l,o,a]=t,n=F):[n,l,o,a]=t,!n)return C;Array.isArray(l)||(l=[l]),Array.isArray(o)||(o=[o]);const f=[],h=()=>{f.forEach(u=>u()),f.length=0},c=(u,d,r,x)=>(u.addEventListener(d,r,x),()=>u.removeEventListener(d,r,x)),m=P(()=>[b(n),k(a)],([u,d])=>{if(h(),!u)return;const r=ie(d)?{...d}:d;f.push(...l.flatMap(x=>o.map(w=>c(u,x,w,r))))},{immediate:!0,flush:"post"}),v=()=>{m(),h()};return re(v),v}let I=!1;function ue(t,n,l={}){const{window:o=F,ignore:a=[],capture:f=!0,detectIframe:h=!1}=l;if(!o)return C;le&&!I&&(I=!0,Array.from(o.document.body.children).forEach(e=>e.addEventListener("click",C)),o.document.documentElement.addEventListener("click",C));let c=!0;const m=e=>k(a).some(s=>{if(typeof s=="string")return Array.from(o.document.querySelectorAll(s)).some(p=>p===e.target||e.composedPath().includes(p));{const p=b(s);return p&&(e.target===p||e.composedPath().includes(p))}});function v(e){const s=k(e);return s&&s.$.subTree.shapeFlag===16}function u(e,s){const p=k(e),E=p.$.subTree&&p.$.subTree.children;return E==null||!Array.isArray(E)?!1:E.some(T=>T.el===s.target||s.composedPath().includes(T.el))}const d=e=>{const s=b(t);if(e.target!=null&&!(!(s instanceof Element)&&v(t)&&u(t,e))&&!(!s||s===e.target||e.composedPath().includes(s))){if(e.detail===0&&(c=!m(e)),!c){c=!0;return}n(e)}};let r=!1;const x=[V(o,"click",e=>{r||(r=!0,setTimeout(()=>{r=!1},0),d(e))},{passive:!0,capture:f}),V(o,"pointerdown",e=>{const s=b(t);c=!m(e)&&!!(s&&!e.composedPath().includes(s))},{passive:!0}),h&&V(o,"blur",e=>{setTimeout(()=>{var s;const p=b(t);((s=o.document.activeElement)==null?void 0:s.tagName)==="IFRAME"&&!(p!=null&&p.contains(o.document.activeElement))&&n(e)},0)})].filter(Boolean);return()=>x.forEach(e=>e())}const de={class:"z-10 fixed top-0 left-0 w-full flex items-center justify-between gap-4 px-2 md:px-4 py-2 text-white bg-[#242424]"},pe={class:"relative md:w-[40%]"},fe={class:"flex gap-4 items-center"},me={class:"hidden md:block"},ve={class:"relative md:hidden"},he={class:"absolute top-[-5px] right-[-10px] rounded-full flex items-center justify-center w-4 h-4 bg-primary text-white text-xs"},xe=["src","alt"],ge={key:0,class:"gap-2 flex items-center absolute right-0 top-[110%] bg-[#4C4D4D] rounded-md px-4 py-3 md:w-[160px] transition hover:bg-primary cursor-pointer text-sm md:text-[16px]"},ye=L({__name:"Header",setup(t){const n=B(),l=D(),o=_(!1),a=_(),f=_(""),h=_(),c=W(()=>l.query.categoryId),m=q();ue(h,()=>{o.value=!1});const v=()=>{n.push({name:"HomeView"})},u=()=>{n.push({name:"HomeView",query:{title:f.value,categoryId:c.value}})};return z(async()=>{const d=await se.getUser();d&&(a.value=d)}),(d,r)=>{var x,w,e;return g(),y("header",de,[i("div",{class:"block w-[35px] md:w-[40px] cursor-pointer hover:opacity-80 transition",onClick:v},r[2]||(r[2]=[i("img",{src:ne,alt:"Logo",class:"w-full"},null,-1)])),i("div",pe,[i("div",{class:"absolute top-[calc(50%-12px)] left-[18px] transition hover:opacity-80 cursor-pointer",onClick:u},r[3]||(r[3]=[i("i",{class:"fa-solid fa-magnifying-glass"},null,-1)])),K(i("input",{"onUpdate:modelValue":r[0]||(r[0]=s=>f.value=s),placeholder:"Search product name",class:"w-full bg-[#121212] border border-[#868585] pl-10 md:pl-11 p-2 text-sm rounded-full",type:"text",autocomplete:"off",onKeyup:U(u,["enter"])},null,544),[[G,f.value]])]),i("div",fe,[i("p",me,$((x=a.value)==null?void 0:x.name),1),i("div",ve,[r[4]||(r[4]=i("i",{class:"fa-solid fa-cart-shopping"},null,-1)),i("div",he,$(S(m).quantity),1)]),i("div",{class:"relative",ref_key:"infoRef",ref:h},[i("div",{class:"h-[35px] w-[35px] rounded-full overflow-hidden cursor-pointer hover:opacity-80 transition",onClick:r[1]||(r[1]=s=>o.value=!o.value)},[i("img",{src:(w=a.value)==null?void 0:w.avatar,alt:(e=a.value)==null?void 0:e.name,class:"w-full h-full object-cover"},null,8,xe)]),o.value?(g(),y("div",ge,r[5]||(r[5]=[i("i",{class:"fa-solid fa-right-from-bracket"},null,-1),J(" Logout ")]))):M("",!0)],512)])])}}}),we={class:"fixed top-[50%] min-h-[200px] translate-y-[-50%] left-4 rounded-lg bg-[#3f3f3f] px-2 py-5 flex-col justify-center"},_e=["onClick"],be={key:0,class:"absolute top-1 right-0 rounded-full flex items-center justify-center w-4 h-4 bg-[#352d2d] text-white text-xs transition"},ke=L({__name:"ControlBar",setup(t){const n=B(),l=D(),o=q(),a=_([{icon:"fa-house",type:"home",isActive:!1,name:"HomeView"},{icon:"fa-cart-shopping",type:"cart",isActive:!1,name:"CartView"}]),f=c=>{n.push({name:c})},h=c=>{switch(a.value.forEach(m=>{m.isActive=!1}),c){case"HomeView":a.value[0].isActive=!0;break;case"CartView":a.value[1].isActive=!0;break;default:a.value.forEach(m=>{m.isActive=!1});break}};return P(()=>l.name,c=>{h(c)},{immediate:!0}),(c,m)=>(g(),y("div",we,[i("ul",null,[(g(!0),y(O,null,Q(a.value,(v,u)=>(g(),y("li",{key:u,class:j(["cursor-pointer p-3 rounded-lg hover:opacity-80 transition relative",{"bg-primary":v.isActive}]),onClick:d=>f(v.name)},[i("i",{class:j(["fa-solid",v.icon])},null,2),v.type==="cart"&&S(o).quantity>0?(g(),y("div",be,$(S(o).quantity),1)):M("",!0)],10,_e))),128))])]))}}),Ae={},Ce={class:"px-4 md:px-24 md:pr-8 py-8 max-w-[1920px] w-full mx-auto border-t border-[#6c6a6a] bg-[#242424]"};function Se(t,n){return g(),y("footer",Ce,n[0]||(n[0]=[Y('<p class="text-xl font-bold mb-3">Contact</p><div class="md:flex gap-x-8 flex-wrap text-sm space-y-1 md:text-[16px]"><p><i class="fa-solid fa-envelope"></i> nmhai1903@gmail.com</p><p><i class="fa-solid fa-phone"></i> 03-6789-6503</p><p><i class="fa-brands fa-github"></i> <a href="https://github.com/minhhai193" class="text-[#dbd5d5] hover:text-primary transition" target="_blank">https://github.com/minhhai193</a></p></div>',2)]))}const Ee=X(Ae,[["render",Se]]),Ve={id:"main-content",class:"min-h-dvh pt-20 px-4 md:pl-24 md:pr-8 pb-14 max-w-[1920px] w-full mx-auto bg-[#151515]"},Ie=L({__name:"MainLayout",setup(t){return(n,l)=>{const o=ee("router-view");return g(),y(O,null,[A(ye),A(ke,{class:"md:flex hidden"}),i("div",Ve,[A(o,null,{default:Z(({Component:a})=>[(g(),te(oe(a)))]),_:1})]),A(Ee)],64)}}});export{Ie as default};
