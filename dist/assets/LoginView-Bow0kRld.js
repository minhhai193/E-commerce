import{d as g,r as n,a as x,B as y,b as d,e as m,f as s,h as c,v,k as w,s as k,x as h,u as E,L as b,N as _}from"./index-5EpnkPgr.js";import{_ as L}from"./GSpinner-DirT7dGf.js";/* empty css                                                                    */import{u as C}from"./userApi-DNorbmHG.js";import"./axios-upsvKRUO.js";const V={class:"flex flex-col h-dvh items-center justify-center bg-[#212121]"},N={class:"rounded-md p-6 pb-8 space-y-4 bg-[#2F2F2F] w-[400px] max-w-full m-6"},B={class:"block bg-[#595959] py-2 px-4 rounded-t-md border-b border-primary hover:bg-[#505050] transition",for:"email"},T={key:0,class:"text-warning text-sm"},U={class:"block bg-[#595959] py-2 px-4 rounded-t-md border-b border-primary hover:bg-[#505050] transition",for:"password"},F={key:1,class:"text-warning text-sm"},K=g({__name:"LoginView",setup(P){const o=n(),t=n(),r=n(!1),i=n(!1),u=n(!1),p=async()=>{if(i.value=!1,u.value=!1,!o.value||!t.value){o.value||(i.value=!0),t.value||(u.value=!0);return}r.value=!0;const l={email:o.value,password:t.value},e=await C.login(l);if(e){b.success("Login successful!",{autoClose:3e3,closeButton:!0,theme:"colored"});const a=[{name:"ACCESS_TOKEN",value:e.access_token},{name:"REFRESH_TOKEN",value:e.refresh_token}];return _.login(a),window.location.assign("/")}else b.error("Login failed. Please check your information again!",{position:"top-right",autoClose:3e3});r.value=!1},f=l=>{l.key==="Enter"&&p()};return x(()=>{window.addEventListener("keydown",f)}),y(()=>{window.removeEventListener("keydown",f)}),(l,e)=>(d(),m("div",V,[e[6]||(e[6]=s("p",null,"Username: john@mail.com",-1)),e[7]||(e[7]=s("p",null,"Password: changeme",-1)),s("form",N,[e[5]||(e[5]=s("p",{class:"text-center text-2xl font-bold"},"Login",-1)),s("label",B,[e[2]||(e[2]=s("span",{class:"text-white text-sm block mb-1"},"Email*",-1)),c(s("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>o.value=a),placeholder:"john@mail.com",class:"outline-none w-full bg-transparent",id:"email",type:"email",name:"email",autocomplete:"off"},null,512),[[v,o.value]])]),i.value?(d(),m("p",T," The username field is required ")):w("",!0),s("label",U,[e[3]||(e[3]=s("span",{class:"text-white text-sm block mb-1"},"Password*",-1)),c(s("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>t.value=a),name:"password",placeholder:"changeme",class:"outline-none w-full bg-transparent",id:"password",type:"text",autocomplete:"off"},null,512),[[v,t.value]])]),u.value?(d(),m("p",F," The password field is required ")):w("",!0),k(E(L),{loading:r.value,type:"button","custom-class":"w-full h-[47px] font-semibold bg-primary",onClick:p},{text:h(()=>e[4]||(e[4]=[s("span",null,"Log in",-1)])),_:1},8,["loading"])])]))}});export{K as default};
